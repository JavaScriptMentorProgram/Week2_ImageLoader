{"version":3,"sources":["webpack:///webpack/bootstrap fd1d0d379451c3b5bfdd","webpack:///./ImageLoader.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;KCtCM,W;AACJ,0BAAa;AAAA;;AACX,UAAK,MAAL,GAAc,EAAd;AACA,UAAK,UAAL,GAAkB,IAAI,GAAJ,EAAlB;AACD;;;;wBAEE,K,EAAO,Q,EAAS;AACjB,YAAK,UAAL,CAAgB,GAAhB,CAAoB,KAApB,KAA8B,KAAK,UAAL,CAAgB,GAAhB,CAAoB,KAApB,EAA2B,EAA3B,CAA9B;AACA,YAAK,UAAL,CAAgB,GAAhB,CAAoB,KAApB,EAA2B,IAA3B,CAAgC,QAAhC;AACA,YAAK,UAAL,CAAgB,GAAhB,CAAoB,KAApB,EAA2B,MAA3B,CAAkC;AAAA,gBAAK,MAAK,QAAV;AAAA,QAAlC;AACD;;;0BAEI,K,EAAe;AAAA,yCAAL,IAAK;AAAL,aAAK;AAAA;;AAClB,WAAI,YAAY,KAAK,UAAL,CAAgB,GAAhB,CAAoB,KAApB,CAAhB;AACA,WAAG,aAAa,UAAU,MAA1B,EAAiC;AAC/B,mBAAU,OAAV,CAAkB,qBAAa;AAC7B,qBAAU,IAAV;AACD,UAFD;AAGA,gBAAO,IAAP;AACD;AACD,cAAO,KAAP;AACD;;;0BAEI,M,EAAO;AAAA;;AACV,cAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,aAAI,QAAQ,CAAZ;AACA,aAAI,SAAS,CAAb;AACA,gBAAO,mBAAP,CAA2B,MAA3B,EAAmC,OAAnC,CAA2C,UAAC,GAAD,EAAS;AAClD;AACA,eAAI,MAAM,OAAO,GAAP,CAAV;AACA,eAAI,MAAM,IAAI,KAAJ,EAAV;AACA,eAAI,GAAJ,GAAU,GAAV;AACA,eAAI,MAAJ,GAAa,YAAM;AACjB;AACA,mBAAK,IAAL,CAAU,UAAV,EAAsB,MAAtB,EAA8B,KAA9B;AACA,iBAAG,WAAW,KAAd,EAAoB;AAClB,uBAAQ,MAAR;AACD;AACF,YAND;AAOA,eAAI,OAAJ,GAAc,YAAM,CACnB,CADD;AAED,UAdD;AAeD,QAlBM,CAAP;AAmBD;;;;;;AAGH,SAAQ,MAAR,GAAiB,IAAI,WAAJ,EAAjB,C","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap fd1d0d379451c3b5bfdd\n **/","class ImageLoader{\r\n  constructor(){\r\n    this._store = {};\r\n    this._listeners = new Map();\r\n  }\r\n\r\n  on(event, callback){\r\n    this._listeners.has(event) || this._listeners.set(event, []) ;\r\n    this._listeners.get(event).push(callback);\r\n    this._listeners.get(event).filter(l => l!== callback);\r\n  }\r\n\r\n  emit(event, ...args){\r\n    let listeners = this._listeners.get(event);\r\n    if(listeners && listeners.length){\r\n      listeners.forEach(listeners => {\r\n        listeners(args);\r\n      });\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  load(images){\r\n    return new Promise((resolve, reject) => {\r\n      let total = 0;\r\n      let loaded = 0;\r\n      Object.getOwnPropertyNames(images).forEach((key) => {\r\n        total++;\r\n        let url = images[key];\r\n        let img = new Image();\r\n        img.src = url;\r\n        img.onload = () => {\r\n          loaded++;\r\n          this.emit('progress', loaded, total);\r\n          if(loaded === total){\r\n            resolve('Done');\r\n          }\r\n        }\r\n        img.onerror = () => {\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nexports.loader = new ImageLoader();\n\n\n/** WEBPACK FOOTER **\n ** ./ImageLoader.js\n **/"],"sourceRoot":""}